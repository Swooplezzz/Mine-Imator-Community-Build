/*
	NOTE:
	This file was autogenerated by CppGen, changes may be overwritten and forever lost!
	Modify at your own risk!
	
	[ Generated on 2023.12.26 01:25:00 ]
*/

#include "Scripts.hpp"

namespace CppProject
{
	StringType string_time(RealType hours, RealType mnts, RealType secs)
	{
		StringType sep = /*":"*/ STR(788);
		return string_repeat(/*"0"*/ STR(1091), (IntType)(hours < IntType(10))) + string(hours) + sep + string_repeat(/*"0"*/ STR(1091), (IntType)(mnts < IntType(10))) + string(mnts) + sep + string_repeat(/*"0"*/ STR(1091), (IntType)(secs < IntType(10))) + string_replace_all(string_format(secs, IntType(2), IntType(3)), /*" "*/ STR(21), /*""*/ STR(0));
	}
	
	VarType string_time_seconds(RealType secs)
	{
		return string_time((IntType)(secs / IntType(3600)), (IntType)(mod(secs, IntType(3600)) / IntType(60)), mod(secs, IntType(60)));
	}
	
	IntType string_width_font(StringType str, IntType font)
	{
		IntType prevfont, width;
		prevfont = draw_get_font();
		width = IntType(0);
		if (font != prevfont)
		{
			draw_set_font(font);
			width = string_width(str);
			draw_set_font(prevfont);
		}
		else
			width = string_width(str);
		
		return width;
	}
	
	VarType string_wrap(VarType str, RealType wid)
	{
		IntType pos, insertpos, linewid;
		pos = IntType(1);
		insertpos = -IntType(1);
		linewid = IntType(0);
		for (pos = IntType(1); pos <= string_length(str); pos++)
		{
			StringType ch = string_char_at(str, pos);
			if (ch == /*"\n"*/ STR(710))
			{
				linewid = IntType(0);
				continue;
			}
			linewid += string_width(ch);
			if (linewid >= wid)
			{
				if (insertpos == -IntType(1))
				{
					str = string_insert(/*"\n"*/ STR(710), str, pos);
					linewid = IntType(0);
				}
				else
				{
					str = string_insert(/*"\n"*/ STR(710), str, insertpos);
					linewid = string_width(string_copy(str, insertpos, (IntType)(pos - insertpos + IntType(1))));
					insertpos = -IntType(1);
				}
				
			}
			if (ch == /*" "*/ STR(21) || ch == /*"-"*/ STR(1130))
				insertpos = pos + IntType(1);
		}
		return str;
	}
	
	IntType surface_duplicate(VarType surf, RealType scale)
	{
		IntType newsurf;
		if (surface_exists((IntType)(surf)))
			newsurf = surface_create((IntType)(surface_get_width((IntType)(surf)) * scale), (IntType)(surface_get_height((IntType)(surf)) * scale));
		else
			newsurf = surface_create(IntType(32), IntType(32));
		
		surface_set_target(newsurf);
	{
		draw_clear_alpha(c_black, 1.0);
		if (!surface_exists((IntType)(surf)))
			draw_missing(IntType(0), IntType(0), IntType(32), IntType(32));
		if (surface_exists((IntType)(surf)))
			draw_surface_ext((IntType)(surf), IntType(0), IntType(0), scale, scale, 0.0, c_white, 1.0);
	}
		surface_reset_target();
		return newsurf;
	}
	
	ArrType surface_get_alpha_array(IntType surf)
	{
		IntType wid, hei;
		ArrType arr;
		wid = surface_get_width(surf);
		hei = surface_get_height(surf);
		global::buffer_current = buffer_create((IntType)(wid * hei * IntType(4)), buffer_fixed, IntType(4));
		buffer_get_surface(global::buffer_current, surf, IntType(0));
		for (IntType py = IntType(0); py < hei; py++)
			for (IntType px = IntType(0); px < wid; px++)
				arr[px][py] = buffer_read_alpha(px, py, wid);
		buffer_delete(global::buffer_current);
		return arr;
	}
	
	VarType surface_require(VarType surf, VarType w, VarType h, BoolType depth, BoolType hdr)
	{
		IntType starttime;
		w = max({ IntType(1), w });
		h = max({ IntType(1), h });
		starttime = current_time();
		if (surf < IntType(0))
			surf = surface_create_ext2(w, h, depth, hdr);
		else
			if (!surface_exists((IntType)(surf)) || surface_get_width((IntType)(surf)) < IntType(0))
			{
				surface_free((IntType)(surf));
				surf = surface_create_ext2(w, h, depth, hdr);
			}
			else
				if (surface_get_width((IntType)(surf)) != w || surface_get_height((IntType)(surf)) != h)
					surface_resize((IntType)(surf), (IntType)(w), (IntType)(h));
		
		
		global::render_surface_time += current_time() - starttime;
		return surf;
	}
	
	void surface_save_lib(VarType surf, VarType fn)
	{
		file_delete_lib(temp_image);
		surface_save((IntType)(surf), temp_image);
		file_copy_lib(temp_image, fn);
	}
	
	IntType tab_add_category(Scope<obj_tab> self, StringType name, VarType icon, IntType script, BoolType show)
	{
		IntType cat = (new obj_category)->id;
		self->category[self->category_amount] = cat;
		self->category_amount++;
		withOne (obj_category, cat, self->id)
		{
			ObjType(obj_category, self->id)->name = name;
			ObjType(obj_category, self->id)->icon = icon;
			ObjType(obj_category, self->id)->script = script;
			ObjType(obj_category, self->id)->show = show;
			self->enabled = true;
			return self->id;
		}
		
		return IntType(0);
	}
	
	RealType tab_close(ScopeAny self, VarType tab)
	{
		IntType panel;
		panel = idInt(tab, panel);
		if (!(idReal(tab, show) > 0))
			return IntType(0);
		if (tab == sInt(settings))
			settings_save(self);
		panel_tab_list_remove(panel, tab);
		idReal(tab, show) = false;
		sVar(tab_move) = null_;
		return 0.0;
	}
	
	void tab_collapse_end(ScopeAny self, BoolType divider)
	{
		global::collapse_ani = IntType(1);
		global::collapse_groups--;
		draw_box(sVar(content_x), sVar(dy), sVar(content_width), sVar(content_height), false, global::c_level_middle, IntType(1));
		if (global::collapse_groups > IntType(0))
			draw_box(sVar(content_x), sVar(dy), sVar(content_width), sVar(content_height), false, global::c_level_bottom, .5 * global::collapse_groups);
		sVar(dx) -= 16.0;
		sVar(dw) += IntType(16);
		if (divider)
		{
			draw_divide(sVar(content_x), sVar(dy), sVar(content_width) - (floor((IntType)ObjType(obj_scrollbar, idInt(sVar(tab), scroll))->needed * IntType(12)) + IntType(1)));
			sVar(dy) += IntType(8);
		}
	}
	
	void tab_collapse_start(ScopeAny self)
	{
		global::collapse_groups++;
		draw_box(sVar(content_x), sVar(dy), sVar(content_width), sVar(content_height), false, global::c_level_bottom, .5 * global::collapse_groups);
		sVar(dx) += IntType(16);
		sVar(dw) -= 16.0;
		sVar(dy) += -IntType(8) + (global::collapse_ani * IntType(8));
		sVar(dy) += IntType(8);
	}
	
	void tab_control(ScopeAny self, RealType height)
	{
		sReal(tab_control_h) = height;
		if (sVar(tab_collumns) > 0)
		{
			sVar(dw) = (sVar(tab_collumns_width) - ((sVar(tab_collumns_count) - IntType(1)) * IntType(8))) / sVar(tab_collumns_count);
			sVar(dx) = sVar(tab_collumns_start_x) + ceil(sVar(dw) * (sReal(tab_collumns_index))) + (IntType(8) * sReal(tab_collumns_index));
		}
	}
	
	void tab_control_button_label(ScopeAny self)
	{
		tab_control(self, IntType(32));
	}
	
	void tab_control_checkbox(ScopeAny self)
	{
		tab_control(self, sReal(ui_small_height));
	}
	
	void tab_control_color(ScopeAny self)
	{
		if (!(global::_app->panel_compact > 0) && sVar(tab_collumns_count) > IntType(1))
			tab_control(self, sReal(ui_small_height) + (label_height + IntType(8)));
		else
			tab_control(self, sReal(ui_small_height));
		
	}
	
	void tab_control_dragger(ScopeAny self)
	{
		tab_control(self, sReal(ui_small_height));
	}
	
	void tab_control_loading(ScopeAny self, RealType height)
	{
		tab_control(self, IntType(24) + height);
	}
	
	void tab_control_menu(ScopeAny self, VarArgs argument)
	{
		IntType argument_count = argument.Size();
		RealType label = ((sReal(window_compact) > 0 && !(global::_app->panel_compact > 0)) ? IntType(0) : label_height + IntType(8));
		if (argument_count > IntType(0))
			tab_control(self, label + argument[IntType(0)]);
		else
			tab_control(self, label + IntType(24));
		
	}
	
	void tab_control_meter(ScopeAny self)
	{
		tab_control(self, (global::_app->panel_compact > 0 || sReal(window_compact) > 0) ? sReal(ui_small_height) : 44.0);
	}
	
	void tab_control_sortlist(ScopeAny self, RealType items)
	{
		tab_control(self, IntType(32) + IntType(14) + sReal(ui_small_height) + (items * sReal(ui_small_height)));
	}
	
	void tab_control_switch(ScopeAny self)
	{
		tab_control(self, sReal(ui_small_height));
	}
	
	void tab_control_textfield(ScopeAny self, BoolType toplabel, RealType size)
	{
		tab_control(self, size + ((label_height + IntType(8)) * (IntType)toplabel));
	}
	
	void tab_control_textfield_group(ScopeAny self, BoolType label)
	{
		RealType height = (global::_app->panel_compact > 0) ? real(sReal(ui_small_height) * sReal(textfield_amount)) : sReal(ui_small_height);
		tab_control(self, height + ((label_height + IntType(8)) * (IntType)label));
	}
	
	void tab_control_togglebutton(ScopeAny self)
	{
		tab_control(self, sReal(ui_large_height) + (label_height + IntType(8)));
	}
	
	void tab_control_wheel(ScopeAny self)
	{
		tab_control(self, IntType(48));
	}
	
	void tab_event_create(Scope<obj_tab> self)
	{
		self->script = null_;
		self->panel = null_;
		self->panel_last = null_;
		self->show = false;
		self->closeable = true;
		self->scroll = null_;
		self->glow = IntType(0);
		self->category_amount = IntType(0);
		self->category[IntType(0)] = null_;
	}
	
	RealType tab_frame_editor_bend(ScopeAny self)
	{
		if (idVar(global::tl_edit, model_part) == null_ || idInt(idVar(global::tl_edit, model_part), bend_part) == null_ || !idArr(global::tl_edit, value_type).Value(e_value_type_TRANSFORM_BEND))
			return IntType(0);
		sInt(context_menu_group_temp) = e_context_group_BEND;
		tab_frame_editor_buttons(self);
		draw_label(self, { text_get({ /*"frameeditorbend"*/ STR(3035) }), sVar(dx), sVar(dy) + IntType(12), fa_left, fa_middle, global::c_text_secondary, global::a_text_secondary, sInt(font_label) });
		sVar(dy) += IntType(26);
		RealType snapval = ((sReal(dragger_snap) > 0) ? sReal(setting_snap_size_rotation) : 0.1);
		ArrType axis, axisname, wheelx, color;
		VarType axislen;
		IntType wheel;
		axislen = IntType(0);
		for (IntType i = X_; i <= Z_; i++)
			axislen += (idVec(idVar(global::tl_edit, model_part), bend_axis).Real(i));
		if (!(sReal(setting_z_is_up) > 0))
			axis = ArrType::From({ X_, Z_, Y_ });
		else
			axis = ArrType::From({ X_, Y_, Z_ });
		
		axisname = ArrType::From({ /*"x"*/ STR(850), /*"y"*/ STR(833), /*"z"*/ STR(851) });
		if (axislen == IntType(3))
			wheelx = ArrType::From({ floor(sVar(dx) + (RealType)sVar(dw) / 6.0), floor(sVar(dx) + (RealType)sVar(dw) / 2.0), floor(sVar(dx) + sVar(dw) - (RealType)sVar(dw) / 6.0) });
		else
			if (axislen == IntType(2))
				wheelx = ArrType::From({ sVar(dx) + floor(sVar(dw) * 0.25), sVar(dx) + floor(sVar(dw) * 0.75), IntType(0) });
			else
				wheelx = ArrType::From({ sVar(dx) + floor(sVar(dw) * 0.5), IntType(0), IntType(0) });
		
		
		wheel = IntType(0);
		color = ArrType::From({ global::c_control_cyan, (sReal(setting_z_is_up) > 0) ? global::c_axisyellow : global::c_axismagenta, (sReal(setting_z_is_up) > 0) ? global::c_axismagenta : global::c_axisyellow });
		if (axislen > IntType(0))
		{
			if (ObjType(obj_category, idInt(sVar(tab), transform))->bend_sliders > 0)
			{
				for (IntType i = IntType(0); i < IntType(3); i++)
				{
					global::axis_edit = axis.Value(i);
					if (!idVec(idVar(global::tl_edit, model_part), bend_axis).Real(global::axis_edit))
						continue;
					tab_control_meter(self);
					draw_meter(self, /*"frameeditorbend"*/ STR(3035) + axisname.Value(i), sVar(dx), sVar(dy), sVar(dw), idVar(global::tl_edit, value).Value(e_value_BEND_ANGLE_X + global::axis_edit), idVec(idVar(global::tl_edit, model_part), bend_direction_min).Real(global::axis_edit), idVec(idVar(global::tl_edit, model_part), bend_direction_max).Real(global::axis_edit), IntType(0), snapval, ObjType(obj_category, idInt(sVar(tab), transform))->tbx_bend.Value(i), ID_action_tl_frame_bend_angle);
					tab_next(self);
				}
			}
			else
			{
				if (!(global::_app->panel_compact > 0))
				{
					tab_control_wheel(self);
					for (IntType i = IntType(0); i < IntType(3); i++)
					{
						global::axis_edit = axis.Value(i);
						if (!idVec(idVar(global::tl_edit, model_part), bend_axis).Real(global::axis_edit))
							continue;
						draw_wheel(self, /*"frameeditorbendwheel"*/ STR(3036) + axisname.Value(i), wheelx.Value(wheel), sVar(dy) + IntType(24), color.Value(global::axis_edit), idVar(global::tl_edit, value).Value(e_value_BEND_ANGLE_X + global::axis_edit), idVec(idVar(global::tl_edit, model_part), bend_direction_min).Real(global::axis_edit), idVec(idVar(global::tl_edit, model_part), bend_direction_max).Real(global::axis_edit), IntType(0), snapval, ObjType(obj_category, idInt(sVar(tab), transform))->tbx_bend.Value(i), ID_action_tl_frame_bend_angle);
						wheel++;
					}
					tab_next(self);
				}
				for (IntType i = IntType(0); i < IntType(3); i++)
				{
					global::axis_edit = axis.Value(i);
					if (!idVec(idVar(global::tl_edit, model_part), bend_axis).Real(global::axis_edit))
						continue;
					textfield_group_add(self, { /*"frameeditorbend"*/ STR(3035) + axisname.Value(i), idVar(global::tl_edit, value).Value(e_value_BEND_ANGLE_X + global::axis_edit), IntType(0), ID_action_tl_frame_bend_angle, global::axis_edit, ObjType(obj_category, idInt(sVar(tab), transform))->tbx_bend.Value(global::axis_edit), null_, 0.1, idVec(idVar(global::tl_edit, model_part), bend_direction_min).Real(global::axis_edit), idVec(idVar(global::tl_edit, model_part), bend_direction_max).Real(global::axis_edit) });
				}
				tab_control_textfield_group(self, false);
				draw_textfield_group(self, /*"frameeditorbend"*/ STR(3035), (axislen == IntType(1)) ? VarType(floor(sVar(dx) + (RealType)sVar(dw) / 2.0 - dragger_width / 2.0)) : sVar(dx), sVar(dy), (axislen == IntType(1)) ? VarType(dragger_width) : sVar(dw), 0.1, IntType(0), IntType(0), snapval, false, true, IntType(2));
				tab_next(self);
			}
			
		}
		sInt(context_menu_group_temp) = null_;
		return 0.0;
	}
	
	void tab_frame_editor_buttons(ScopeAny self)
	{
		StringType name;
		VarType bx, by, alpha;
		bx = sVar(dx) + sVar(dw) - IntType(24);
		by = sVar(dy);
		if (sVar(context_menu_name) == /*""*/ STR(0))
			sInt(context_menu_group) = sInt(context_menu_group_temp);
		name = /*"buttons"*/ STR(3037) + string(sInt(context_menu_group_temp));
		alpha = global::microani_arr.Value(e_microani_HOVER);
		draw_set_alpha(alpha);
		if (sInt(context_menu_group_temp) == e_context_group_SCALE)
		{
			if (ObjType(obj_category, ObjType(obj_tab, sInt(frame_editor))->transform)->scale_all > 0)
				draw_set_alpha(1.0);
			draw_button_icon(self, { name + /*"link"*/ STR(3038), bx, by, IntType(24), IntType(24), ObjType(obj_category, ObjType(obj_tab, sInt(frame_editor))->transform)->scale_all, icons_LINK, ID_action_group_combine_scale, false, (ObjType(obj_category, ObjType(obj_tab, sInt(frame_editor))->transform)->scale_all > 0) ? /*"contextmenuscaleseparate"*/ STR(1544) : /*"contextmenuscalecombine"*/ STR(1545) });
			bx -= 28.0;
			draw_set_alpha(alpha);
		}
		if (sInt(context_menu_group_temp) == e_context_group_BEND && sReal(setting_advanced_mode) > 0)
		{
			if (ObjType(obj_category, ObjType(obj_tab, sInt(frame_editor))->transform)->bend_sliders > 0)
				draw_set_alpha(1.0);
			draw_button_icon(self, { name + /*"sliders"*/ STR(3039), bx, by, IntType(24), IntType(24), ObjType(obj_category, ObjType(obj_tab, sInt(frame_editor))->transform)->bend_sliders, icons_SLIDERS, ID_action_group_bend_sliders, false, (ObjType(obj_category, ObjType(obj_tab, sInt(frame_editor))->transform)->bend_sliders > 0) ? /*"contextmenubendwheels"*/ STR(3040) : /*"contextmenubendsliders"*/ STR(3041) });
			bx -= 28.0;
			draw_set_alpha(alpha);
		}
		draw_button_icon(self, { name + /*"reset"*/ STR(2995), bx, by, IntType(24), IntType(24), false, icons_RESET, ID_action_group_reset, false, /*"contextmenugroupreset"*/ STR(1552) });
		bx -= 28.0;
		draw_button_icon(self, { name + /*"paste"*/ STR(3042), bx, by, IntType(24), IntType(24), false, icons_PASTE, ID_action_group_paste, DsList(sInt(context_group_copy_list)).Value(sInt(context_menu_group)) == null_, /*"contextmenugrouppaste"*/ STR(1551) });
		bx -= 28.0;
		draw_button_icon(self, { name + /*"copy"*/ STR(3043), bx, by, IntType(24), IntType(24), false, icons_COPY, ID_action_group_copy, false, /*"contextmenugroupcopy"*/ STR(1550) });
		bx -= 28.0;
		draw_set_alpha(1.0);
	}
	
	void tab_frame_editor_camera(ScopeAny self)
	{
		VarType capwid, text;
		sInt(context_menu_group_temp) = e_context_group_CAMERA;
		if (sReal(setting_advanced_mode) > 0)
		{
			if (idVar(global::tl_edit, value).Value(e_value_CAM_SIZE_USE_PROJECT) > 0)
			{
				idVar(idVar(sVar(tab), camera), video_template) = null_;
				text = text_get({ /*"frameeditorcameravideosizeuseproject"*/ STR(1473) });
			}
			else
			{
				if (idVar(idVar(sVar(tab), camera), video_template) == null_)
					idVar(idVar(sVar(tab), camera), video_template) = find_videotemplate(idVar(global::tl_edit, value).Value(e_value_CAM_WIDTH), idVar(global::tl_edit, value).Value(e_value_CAM_HEIGHT));
				if (idVar(idVar(sVar(tab), camera), video_template) > IntType(0))
					text = text_get({ /*"projectvideosizetemplate"*/ STR(1474) + idVar(idVar(idVar(sVar(tab), camera), video_template), name) }) + /*" ("*/ STR(1153) + string(idVar(idVar(idVar(sVar(tab), camera), video_template), width)) + /*"x"*/ STR(850) + string(idVar(idVar(idVar(sVar(tab), camera), video_template), height)) + /*")"*/ STR(1129);
				else
					text = text_get({ /*"projectvideosizecustom"*/ STR(1475) });
				
			}
			
			tab_control_menu(self);
			draw_button_menu(self, { /*"frameeditorcameravideosize"*/ STR(1472), e_menu_LIST, sVar(dx), sVar(dy), sVar(dw), IntType(24), (idVar(global::tl_edit, value).Value(e_value_CAM_SIZE_USE_PROJECT) > 0) ? VarType(null_) : idVar(idVar(sVar(tab), camera), video_template), text, ID_action_tl_frame_cam_video_template });
			tab_next(self);
			if (idVar(idVar(sVar(tab), camera), video_template) == IntType(0))
			{
				textfield_group_add(self, { /*"frameeditorcameravideosizecustomwidth"*/ STR(3044), idVar(global::tl_edit, value).Value(e_value_CAM_WIDTH), IntType(1280), ID_action_tl_frame_cam_width, X_, idInt(idVar(sVar(tab), camera), tbx_video_size_custom_width), null_, IntType(1) });
				textfield_group_add(self, { /*"frameeditorcameravideosizecustomheight"*/ STR(3045), idVar(global::tl_edit, value).Value(e_value_CAM_HEIGHT), IntType(720), ID_action_tl_frame_cam_height, X_, idInt(idVar(sVar(tab), camera), tbx_video_size_custom_height), null_, IntType(1) });
				tab_control_textfield_group(self, false);
				draw_textfield_group(self, /*"frameeditorcameravideosizecustom"*/ STR(3046), sVar(dx), sVar(dy), sVar(dw), IntType(1), IntType(1), no_limit, IntType(1), false);
				tab_next(self);
				tab_control_switch(self);
				draw_switch(self, /*"frameeditorcameravideosizecustomkeepaspectratio"*/ STR(3047), sVar(dx), sVar(dy), idVar(global::tl_edit, value).Value(e_value_CAM_SIZE_KEEP_ASPECT_RATIO), ID_action_tl_frame_cam_size_keep_aspect_ratio);
				tab_next(self);
				sVar(dy) += IntType(8);
			}
		}
		tab_control_meter(self);
		draw_meter(self, /*"frameeditorcamerafov"*/ STR(3048), sVar(dx), sVar(dy), sVar(dw), idVar(global::tl_edit, value).Value(e_value_CAM_FOV), IntType(1), IntType(170), IntType(45), IntType(1), idInt(idVar(sVar(tab), camera), tbx_fov), ID_action_tl_frame_cam_fov);
		tab_next(self);
		if (sReal(setting_advanced_mode) > 0)
		{
			tab_control_dragger(self);
			draw_dragger(self, /*"frameeditorcameraaspect"*/ STR(3049), sVar(dx), sVar(dy), dragger_width, idVar(global::tl_edit, value).Value(e_value_CAM_ASPECT), 0.01, 0.0001, IntType(360), IntType(1), 0.0001, idInt(idVar(sVar(tab), camera), tbx_aspect), ID_action_tl_frame_cam_aspect);
			tab_next(self);
			tab_control_switch(self);
			draw_button_collapse(self, /*"aperture"*/ STR(155), DsMap(global::collapse_map).Value(/*"aperture"*/ STR(155)), null_, true, /*"frameeditorcameraaperture"*/ STR(3050), /*"frameeditorcameraaperturetip"*/ STR(3051));
			tab_next(self);
			if (DsMap(global::collapse_map).Value(/*"aperture"*/ STR(155)) > 0)
			{
				tab_collapse_start(self);
				tab_control_meter(self);
				draw_meter(self, /*"frameeditorcamerabladeamount"*/ STR(3052), sVar(dx), sVar(dy), sVar(dw), idVar(global::tl_edit, value).Value(e_value_CAM_BLADE_AMOUNT), IntType(0), IntType(16), IntType(0), IntType(1), idInt(idVar(sVar(tab), camera), tbx_blade_amount), ID_action_tl_frame_cam_blade_amount);
				tab_next(self);
				tab_control_dragger(self);
				draw_dragger(self, /*"frameeditorcamerabladeangle"*/ STR(3053), sVar(dx), sVar(dy), dragger_width, idVar(global::tl_edit, value).Value(e_value_CAM_BLADE_ANGLE), 0.1, -no_limit, no_limit, IntType(0), IntType(1), idInt(idVar(sVar(tab), camera), tbx_blade_angle), ID_action_tl_frame_cam_blade_angle);
				tab_next(self);
				tab_collapse_end(self);
			}
		}
		tab_control_switch(self);
		draw_button_collapse(self, /*"light_management_cam"*/ STR(154), DsMap(global::collapse_map).Value(/*"light_management_cam"*/ STR(154)), ID_action_tl_frame_cam_light_management, idVar(global::tl_edit, value).Value(e_value_CAM_LIGHT_MANAGEMENT), /*"frameeditorcameralightmanagement"*/ STR(3054));
		tab_next(self);
		if (idVar(global::tl_edit, value).Value(e_value_CAM_LIGHT_MANAGEMENT) > 0 && DsMap(global::collapse_map).Value(/*"light_management_cam"*/ STR(154)) > 0)
		{
			tab_collapse_start(self);
			if (idVar(global::tl_edit, value).Value(e_value_CAM_TONEMAPPER) == e_tonemapper_REINHARD)
				text = text_get({ /*"frameeditorcameratonemapperreinhard"*/ STR(3055) });
			else
				if (idVar(global::tl_edit, value).Value(e_value_CAM_TONEMAPPER) == e_tonemapper_ACES)
					text = text_get({ /*"frameeditorcameratonemapperaces"*/ STR(3056) });
				else
					text = text_get({ /*"frameeditorcameratonemappernone"*/ STR(3057) });
			
			
			tab_control_menu(self);
			draw_button_menu(self, { /*"frameeditorcameratonemapper"*/ STR(1525), e_menu_LIST, sVar(dx), sVar(dy), sVar(dw), IntType(24), idVar(global::tl_edit, value).Value(e_value_CAM_TONEMAPPER), text, ID_action_tl_frame_cam_tonemapper });
			tab_next(self);
			tab_control_dragger(self);
			draw_dragger(self, /*"frameeditorcameraexposure"*/ STR(3058), sVar(dx), sVar(dy), dragger_width, idVar(global::tl_edit, value).Value(e_value_CAM_EXPOSURE), 0.01, IntType(0), no_limit, IntType(1), 0.01, idInt(idVar(sVar(tab), camera), tbx_exposure), ID_action_tl_frame_cam_exposure);
			tab_next(self);
			tab_control_dragger(self);
			draw_dragger(self, /*"frameeditorcameragamma"*/ STR(3059), sVar(dx), sVar(dy), dragger_width, idVar(global::tl_edit, value).Value(e_value_CAM_GAMMA), 0.01, IntType(0), no_limit, 2.2, 0.01, idInt(idVar(sVar(tab), camera), tbx_gamma), ID_action_tl_frame_cam_gamma);
			tab_next(self);
			tab_collapse_end(self);
		}
		tab_control_switch(self);
		draw_button_collapse(self, /*"rotatepoint"*/ STR(147), DsMap(global::collapse_map).Value(/*"rotatepoint"*/ STR(147)), ID_action_tl_frame_cam_rotate, idVar(global::tl_edit, value).Value(e_value_CAM_ROTATE), /*"frameeditorcamerarotate"*/ STR(3060));
		tab_next(self);
		if (idVar(global::tl_edit, value).Value(e_value_CAM_ROTATE) > 0 && DsMap(global::collapse_map).Value(/*"rotatepoint"*/ STR(147)) > 0)
		{
			tab_collapse_start(self);
			RealType snapval = ((sReal(dragger_snap) > 0) ? sReal(setting_snap_size_rotation) : 0.1);
			tab_control_wheel(self);
			draw_wheel(self, /*"frameeditorcamerarotateanglexywheel"*/ STR(3061), sVar(dx) + floor(sVar(dw) * 0.25), sVar(dy) + IntType(24), c_aqua, idVar(global::tl_edit, value).Value(e_value_CAM_ROTATE_ANGLE_XY), -no_limit, no_limit, IntType(0), snapval, idInt(idVar(sVar(tab), camera), tbx_rotate_angle_xy), ID_action_tl_frame_cam_rotate_angle_xy);
			draw_wheel(self, /*"frameeditorcamerarotateanglezwheel"*/ STR(3062), sVar(dx) + floor(sVar(dw) * 0.75), sVar(dy) + IntType(24), c_aqua, idVar(global::tl_edit, value).Value(e_value_CAM_ROTATE_ANGLE_Z), -no_limit, no_limit, IntType(0), snapval, idInt(idVar(sVar(tab), camera), tbx_rotate_angle_z), ID_action_tl_frame_cam_rotate_angle_z);
			tab_next(self);
			textfield_group_add(self, { /*"frameeditorcamerarotateanglexy"*/ STR(3063), idVar(global::tl_edit, value).Value(e_value_CAM_ROTATE_ANGLE_XY), IntType(0), ID_action_tl_frame_cam_rotate_angle_xy, global::axis_edit, idInt(idVar(sVar(tab), camera), tbx_rotate_angle_xy), null_, .1, -no_limit, no_limit });
			textfield_group_add(self, { /*"frameeditorcamerarotateanglez"*/ STR(3064), idVar(global::tl_edit, value).Value(e_value_CAM_ROTATE_ANGLE_Z), IntType(0), ID_action_tl_frame_cam_rotate_angle_z, global::axis_edit, idInt(idVar(sVar(tab), camera), tbx_rotate_angle_z), null_, .1, -no_limit, no_limit });
			tab_control_textfield_group(self, false);
			draw_textfield_group(self, /*"frameeditorcamerarotateangle"*/ STR(3065), sVar(dx), sVar(dy), sVar(dw), 0.1, IntType(0), IntType(0), snapval, false, true);
			tab_next(self);
			tab_control_dragger(self);
			draw_dragger(self, /*"frameeditorcamerarotatedistance"*/ STR(3066), sVar(dx), sVar(dy), dragger_width, idVar(global::tl_edit, value).Value(e_value_CAM_ROTATE_DISTANCE), IntType(1), IntType(1), no_limit, IntType(100), IntType(0), idInt(idVar(sVar(tab), camera), tbx_rotate_distance), ID_action_tl_frame_cam_rotate_distance);
			tab_next(self);
			tab_control_switch(self);
			draw_switch(self, /*"frameeditorcamerarotatelookatpoint"*/ STR(3067), sVar(dx), sVar(dy), idBool(idVar(sVar(tab), camera), look_at_rotate), ID_action_tl_frame_look_at_rotate);
			tab_next(self);
			tab_collapse_end(self);
		}
		if (sReal(setting_advanced_mode) > 0)
		{
			tab_control_switch(self);
			draw_button_collapse(self, /*"camshake"*/ STR(156), DsMap(global::collapse_map).Value(/*"camshake"*/ STR(156)), ID_action_tl_frame_cam_shake, idVar(global::tl_edit, value).Value(e_value_CAM_SHAKE), /*"frameeditorcameracamerashake"*/ STR(3068));
			tab_next(self);
			if (idVar(global::tl_edit, value).Value(e_value_CAM_SHAKE) > 0 && DsMap(global::collapse_map).Value(/*"camshake"*/ STR(156)) > 0)
			{
				tab_collapse_start(self);
				tab_control_togglebutton(self);
				togglebutton_add(self, { /*"frameeditorcameracamerashakerotational"*/ STR(3069), null_, IntType(0), idVar(global::tl_edit, value).Value(e_value_CAM_SHAKE_MODE) == IntType(0), ID_action_tl_frame_cam_shake_mode });
				togglebutton_add(self, { /*"frameeditorcameracamerashakepositional"*/ STR(3070), null_, IntType(1), idVar(global::tl_edit, value).Value(e_value_CAM_SHAKE_MODE) == IntType(1), ID_action_tl_frame_cam_shake_mode });
				draw_togglebutton(self, /*"frameeditorcameracamerashakemode"*/ STR(3071), sVar(dx), sVar(dy));
				tab_next(self);
				global::axis_edit = X_;
				textfield_group_add(self, { /*"frameeditorcameracamerashakestrengthx"*/ STR(3072), round(idVar(global::tl_edit, value).Value(e_value_CAM_SHAKE_STRENGTH_X) * IntType(100)), IntType(100), ID_action_tl_frame_cam_shake_strength, global::axis_edit, idInt(idVar(sVar(tab), camera), tbx_shake_strength_x), null_, IntType(1), IntType(0), no_limit });
				global::axis_edit = ((sReal(setting_z_is_up) > 0) ? Y_ : Z_);
				textfield_group_add(self, { /*"frameeditorcameracamerashakestrengthy"*/ STR(3073), round(idVar(global::tl_edit, value).Value(e_value_CAM_SHAKE_STRENGTH_X + global::axis_edit) * IntType(100)), IntType(100), ID_action_tl_frame_cam_shake_strength, global::axis_edit, idInt(idVar(sVar(tab), camera), tbx_shake_strength_y), null_, IntType(1), IntType(0), no_limit });
				global::axis_edit = ((sReal(setting_z_is_up) > 0) ? Z_ : Y_);
				textfield_group_add(self, { /*"frameeditorcameracamerashakestrengthz"*/ STR(3074), round(idVar(global::tl_edit, value).Value(e_value_CAM_SHAKE_STRENGTH_X + global::axis_edit) * IntType(100)), IntType(100), ID_action_tl_frame_cam_shake_strength, global::axis_edit, idInt(idVar(sVar(tab), camera), tbx_shake_strength_z), null_, IntType(1), IntType(0), no_limit });
				tab_control_textfield_group(self);
				draw_textfield_group(self, /*"frameeditorcameracamerashakestrength"*/ STR(3075), sVar(dx), sVar(dy), sVar(dw), null_, null_, null_, .01, true, false, IntType(1));
				tab_next(self);
				global::axis_edit = X_;
				textfield_group_add(self, { /*"frameeditorcameracamerashakespeedx"*/ STR(3076), round(idVar(global::tl_edit, value).Value(e_value_CAM_SHAKE_SPEED_X) * IntType(100)), IntType(100), ID_action_tl_frame_cam_shake_speed, global::axis_edit, idInt(idVar(sVar(tab), camera), tbx_shake_speed_x), null_, IntType(1), IntType(0), no_limit });
				global::axis_edit = ((sReal(setting_z_is_up) > 0) ? Y_ : Z_);
				textfield_group_add(self, { /*"frameeditorcameracamerashakespeedy"*/ STR(3077), round(idVar(global::tl_edit, value).Value(e_value_CAM_SHAKE_SPEED_X + global::axis_edit) * IntType(100)), IntType(100), ID_action_tl_frame_cam_shake_speed, global::axis_edit, idInt(idVar(sVar(tab), camera), tbx_shake_speed_y), null_, IntType(1), IntType(0), no_limit });
				global::axis_edit = ((sReal(setting_z_is_up) > 0) ? Z_ : Y_);
				textfield_group_add(self, { /*"frameeditorcameracamerashakespeedz"*/ STR(3078), round(idVar(global::tl_edit, value).Value(e_value_CAM_SHAKE_SPEED_X + global::axis_edit) * IntType(100)), IntType(100), ID_action_tl_frame_cam_shake_speed, global::axis_edit, idInt(idVar(sVar(tab), camera), tbx_shake_speed_z), null_, IntType(1), IntType(0), no_limit });
				tab_control_textfield_group(self);
				draw_textfield_group(self, /*"frameeditorcameracamerashakespeed"*/ STR(3079), sVar(dx), sVar(dy), sVar(dw), null_, null_, null_, .01, true, false, IntType(1));
				tab_next(self);
				tab_collapse_end(self);
			}
		}
		tab_control_switch(self);
		draw_button_collapse(self, /*"dof"*/ STR(157), DsMap(global::collapse_map).Value(/*"dof"*/ STR(157)), ID_action_tl_frame_cam_dof, idVar(global::tl_edit, value).Value(e_value_CAM_DOF), /*"frameeditorcameradof"*/ STR(3080));
		tab_next(self);
		if (idVar(global::tl_edit, value).Value(e_value_CAM_DOF) > 0 && DsMap(global::collapse_map).Value(/*"dof"*/ STR(157)) > 0)
		{
			tab_collapse_start(self);
			tab_control_dragger(self);
			draw_dragger(self, /*"frameeditorcameradofdepth"*/ STR(3081), sVar(dx), sVar(dy), dragger_width, idVar(global::tl_edit, value).Value(e_value_CAM_DOF_DEPTH), max({ 0.5, (RealType)idVar(global::tl_edit, value).Value(e_value_CAM_DOF_DEPTH) / 50.0 }), IntType(0), sVar(project_render_distance), IntType(0), IntType(0), idInt(idVar(sVar(tab), camera), tbx_dof_depth), ID_action_tl_frame_cam_dof_depth);
			tab_next(self);
			tab_control_dragger(self);
			draw_dragger(self, /*"frameeditorcameradofrange"*/ STR(3082), sVar(dx), sVar(dy), dragger_width, idVar(global::tl_edit, value).Value(e_value_CAM_DOF_RANGE), max({ 0.5, (RealType)idVar(global::tl_edit, value).Value(e_value_CAM_DOF_RANGE) / 50.0 }), IntType(0), no_limit, IntType(200), IntType(0), idInt(idVar(sVar(tab), camera), tbx_dof_range), ID_action_tl_frame_cam_dof_range);
			tab_next(self);
			tab_control_dragger(self);
			draw_dragger(self, /*"frameeditorcameradoffadesize"*/ STR(3083), sVar(dx), sVar(dy), dragger_width, idVar(global::tl_edit, value).Value(e_value_CAM_DOF_FADE_SIZE), IntType(2), IntType(0), no_limit, IntType(100), IntType(0), idInt(idVar(sVar(tab), camera), tbx_dof_fade_size), ID_action_tl_frame_cam_dof_fade_size);
			tab_next(self);
			tab_control_meter(self);
			draw_meter(self, /*"frameeditorcameradofblursize"*/ STR(3084), sVar(dx), sVar(dy), sVar(dw), idVar(global::tl_edit, value).Value(e_value_CAM_DOF_BLUR_SIZE) * IntType(100), IntType(0), IntType(10), IntType(1), .01, idInt(idVar(sVar(tab), camera), tbx_dof_blur_size), ID_action_tl_frame_cam_dof_blur_size);
			tab_next(self);
			if (sReal(setting_advanced_mode) > 0)
			{
				tab_control_meter(self);
				draw_meter(self, /*"frameeditorcameradofblurratio"*/ STR(3085), sVar(dx), sVar(dy), sVar(dw), round(idVar(global::tl_edit, value).Value(e_value_CAM_DOF_BLUR_RATIO) * IntType(100)), IntType(0), IntType(100), IntType(0), IntType(1), idInt(idVar(sVar(tab), camera), tbx_dof_blur_ratio), ID_action_tl_frame_cam_dof_blur_ratio);
				tab_next(self);
				tab_control_meter(self);
				draw_meter(self, /*"frameeditorcameradofbias"*/ STR(3086), sVar(dx), sVar(dy), sVar(dw), round(idVar(global::tl_edit, value).Value(e_value_CAM_DOF_BIAS) * IntType(10)), IntType(0), IntType(100), IntType(0), IntType(1), idInt(idVar(sVar(tab), camera), tbx_dof_bias), ID_action_tl_frame_cam_dof_bias);
				tab_next(self);
				tab_control_meter(self);
				draw_meter(self, /*"frameeditorcameradofgain"*/ STR(3087), sVar(dx), sVar(dy), sVar(dw), round(idVar(global::tl_edit, value).Value(e_value_CAM_DOF_GAIN) * IntType(100)), IntType(0), IntType(200), IntType(0), IntType(1), idInt(idVar(sVar(tab), camera), tbx_dof_gain), ID_action_tl_frame_cam_dof_gain);
				tab_next(self);
				tab_control_meter(self);
				draw_meter(self, /*"frameeditorcameradofthreshold"*/ STR(3088), sVar(dx), sVar(dy), sVar(dw), round(idVar(global::tl_edit, value).Value(e_value_CAM_DOF_THRESHOLD) * IntType(100)), IntType(0), IntType(100), IntType(0), IntType(1), idInt(idVar(sVar(tab), camera), tbx_dof_threshold), ID_action_tl_frame_cam_dof_threshold);
				tab_next(self);
				tab_control_switch(self);
				draw_button_collapse(self, /*"dof_fringe"*/ STR(158), DsMap(global::collapse_map).Value(/*"dof_fringe"*/ STR(158)), ID_action_tl_frame_cam_dof_fringe, idVar(global::tl_edit, value).Value(e_value_CAM_DOF_FRINGE), /*"frameeditorcameradoffringe"*/ STR(3089));
				tab_next(self);
				if (idVar(global::tl_edit, value).Value(e_value_CAM_DOF_FRINGE) > 0 && DsMap(global::collapse_map).Value(/*"dof_fringe"*/ STR(158)) > 0)
				{
					tab_collapse_start(self);
					RealType snapval;
					VarType capwid;
					snapval = ((sReal(dragger_snap) > 0) ? sReal(setting_snap_size_rotation) : 0.1);
					tab_control_wheel(self);
					global::axis_edit = X_;
					draw_wheel(self, /*"frameeditorcameradoffringeangleredwheel"*/ STR(3090), floor(sVar(dx) + (RealType)sVar(dw) / 6.0), sVar(dy) + IntType(24), global::c_axisred, idVar(global::tl_edit, value).Value(e_value_CAM_DOF_FRINGE_ANGLE_RED), -no_limit, no_limit, idArr(global::tl_edit, value_default).Value(e_value_CAM_DOF_FRINGE_ANGLE_RED), snapval, idInt(idVar(sVar(tab), camera), tbx_dof_fringe_angle_red), ID_action_tl_frame_cam_dof_fringe_angle);
					global::axis_edit = Y_;
					draw_wheel(self, /*"frameeditorcameradoffringeanglegreenwheel"*/ STR(3091), floor(sVar(dx) + (RealType)sVar(dw) / 2.0), sVar(dy) + IntType(24), global::c_axisgreen, idVar(global::tl_edit, value).Value(e_value_CAM_DOF_FRINGE_ANGLE_GREEN), -no_limit, no_limit, idArr(global::tl_edit, value_default).Value(e_value_CAM_DOF_FRINGE_ANGLE_GREEN), snapval, idInt(idVar(sVar(tab), camera), tbx_dof_fringe_angle_green), ID_action_tl_frame_cam_dof_fringe_angle);
					global::axis_edit = Z_;
					draw_wheel(self, /*"frameeditorcameradoffringeanglebluewheel"*/ STR(3092), floor(sVar(dx) + sVar(dw) - (RealType)sVar(dw) / 6.0), sVar(dy) + IntType(24), global::c_axisblue, idVar(global::tl_edit, value).Value(e_value_CAM_DOF_FRINGE_ANGLE_BLUE), -no_limit, no_limit, idArr(global::tl_edit, value_default).Value(e_value_CAM_DOF_FRINGE_ANGLE_BLUE), snapval, idInt(idVar(sVar(tab), camera), tbx_dof_fringe_angle_blue), ID_action_tl_frame_cam_dof_fringe_angle);
					tab_next(self);
					global::axis_edit = X_;
					textfield_group_add(self, { /*"frameeditorcameradoffringeanglered"*/ STR(3093), idVar(global::tl_edit, value).Value(e_value_CAM_DOF_FRINGE_ANGLE_RED), idArr(global::tl_edit, value_default).Value(e_value_CAM_DOF_FRINGE_ANGLE_RED), ID_action_tl_frame_cam_dof_fringe_angle, global::axis_edit, idInt(idVar(sVar(tab), camera), tbx_dof_fringe_angle_red) });
					global::axis_edit = Y_;
					textfield_group_add(self, { /*"frameeditorcameradoffringeanglegreen"*/ STR(3094), idVar(global::tl_edit, value).Value(e_value_CAM_DOF_FRINGE_ANGLE_GREEN), idArr(global::tl_edit, value_default).Value(e_value_CAM_DOF_FRINGE_ANGLE_GREEN), ID_action_tl_frame_cam_dof_fringe_angle, global::axis_edit, idInt(idVar(sVar(tab), camera), tbx_dof_fringe_angle_green) });
					global::axis_edit = Z_;
					textfield_group_add(self, { /*"frameeditorcameradoffringeangleblue"*/ STR(3095), idVar(global::tl_edit, value).Value(e_value_CAM_DOF_FRINGE_ANGLE_BLUE), idArr(global::tl_edit, value_default).Value(e_value_CAM_DOF_FRINGE_ANGLE_BLUE), ID_action_tl_frame_cam_dof_fringe_angle, global::axis_edit, idInt(idVar(sVar(tab), camera), tbx_dof_fringe_angle_blue) });
					tab_control_textfield(self, false);
					draw_textfield_group(self, /*"frameeditorcameradoffringeangle"*/ STR(3096), sVar(dx), sVar(dy), sVar(dw), 0.1, -no_limit, no_limit, snapval, false, true, IntType(1));
					tab_next(self);
					textfield_group_add(self, { /*"frameeditorcameradoffringered"*/ STR(3097), round(idVar(global::tl_edit, value).Value(e_value_CAM_DOF_FRINGE_RED) * IntType(100)), IntType(100), ID_action_tl_frame_cam_dof_fringe_red, X_, idInt(idVar(sVar(tab), camera), tbx_dof_fringe_red) });
					textfield_group_add(self, { /*"frameeditorcameradoffringegreen"*/ STR(3098), round(idVar(global::tl_edit, value).Value(e_value_CAM_DOF_FRINGE_GREEN) * IntType(100)), IntType(100), ID_action_tl_frame_cam_dof_fringe_green, X_, idInt(idVar(sVar(tab), camera), tbx_dof_fringe_green) });
					textfield_group_add(self, { /*"frameeditorcameradoffringeblue"*/ STR(3099), round(idVar(global::tl_edit, value).Value(e_value_CAM_DOF_FRINGE_BLUE) * IntType(100)), IntType(100), ID_action_tl_frame_cam_dof_fringe_blue, X_, idInt(idVar(sVar(tab), camera), tbx_dof_fringe_blue) });
					tab_control_textfield_group(self);
					draw_textfield_group(self, /*"frameeditorcameradoffringeoffset"*/ STR(3100), sVar(dx), sVar(dy), sVar(dw), IntType(1), IntType(0), no_limit, IntType(1), true, true, IntType(3));
					tab_next(self);
					tab_collapse_end(self, false);
				}
			}
			tab_collapse_end(self);
		}
		tab_control_switch(self);
		draw_button_collapse(self, /*"bloom"*/ STR(159), DsMap(global::collapse_map).Value(/*"bloom"*/ STR(159)), ID_action_tl_frame_cam_bloom, idVar(global::tl_edit, value).Value(e_value_CAM_BLOOM), /*"frameeditorcamerabloom"*/ STR(3101));
		tab_next(self);
		if (idVar(global::tl_edit, value).Value(e_value_CAM_BLOOM) > 0 && DsMap(global::collapse_map).Value(/*"bloom"*/ STR(159)) > 0)
		{
			tab_collapse_start(self);
			tab_control_dragger(self);
			draw_dragger(self, /*"frameeditorcamerabloomthreshold"*/ STR(3102), sVar(dx), sVar(dy), dragger_width, round(idVar(global::tl_edit, value).Value(e_value_CAM_BLOOM_THRESHOLD) * IntType(100)), .1, IntType(0), IntType(100), IntType(85), IntType(1), idInt(idVar(sVar(tab), camera), tbx_bloom_threshold), ID_action_tl_frame_cam_bloom_threshold);
			tab_next(self);
			tab_control_dragger(self);
			draw_dragger(self, /*"frameeditorcamerabloomradius"*/ STR(3103), sVar(dx), sVar(dy), dragger_width, round(idVar(global::tl_edit, value).Value(e_value_CAM_BLOOM_RADIUS) * IntType(100)), .1, IntType(0), no_limit, IntType(100), IntType(1), idInt(idVar(sVar(tab), camera), tbx_bloom_radius), ID_action_tl_frame_cam_bloom_radius);
			tab_next(self);
			tab_control_dragger(self);
			draw_dragger(self, /*"frameeditorcamerabloomintensity"*/ STR(3104), sVar(dx), sVar(dy), dragger_width, round(idVar(global::tl_edit, value).Value(e_value_CAM_BLOOM_INTENSITY) * IntType(100)), .1, IntType(0), no_limit, IntType(40), IntType(1), idInt(idVar(sVar(tab), camera), tbx_bloom_intensity), ID_action_tl_frame_cam_bloom_intensity);
			tab_next(self);
			if (sReal(setting_advanced_mode) > 0)
			{
				tab_control_meter(self);
				draw_meter(self, /*"frameeditorcamerabloomratio"*/ STR(3105), sVar(dx), sVar(dy), sVar(dw), round(idVar(global::tl_edit, value).Value(e_value_CAM_BLOOM_RATIO) * IntType(100)), IntType(0), IntType(100), IntType(0), IntType(1), idInt(idVar(sVar(tab), camera), tbx_bloom_ratio), ID_action_tl_frame_cam_bloom_ratio);
				tab_next(self);
				tab_control_color(self);
				draw_button_color(self, /*"frameeditorcamerabloomblend"*/ STR(3106), sVar(dx), sVar(dy), floor((RealType)sVar(dw) / 2.0), idVar(global::tl_edit, value).Value(e_value_CAM_BLOOM_BLEND), c_white, false, ID_action_tl_frame_cam_bloom_blend);
				tab_next(self);
			}
			tab_collapse_end(self);
		}
		if (sReal(setting_advanced_mode) > 0)
		{
			tab_control_switch(self);
			draw_button_collapse(self, /*"lensdirt"*/ STR(160), DsMap(global::collapse_map).Value(/*"lensdirt"*/ STR(160)), ID_action_tl_frame_cam_lens_dirt, idVar(global::tl_edit, value).Value(e_value_CAM_LENS_DIRT), /*"frameeditorcameralensdirt"*/ STR(3107));
			tab_next(self);
			if (idVar(global::tl_edit, value).Value(e_value_CAM_LENS_DIRT) > 0 && DsMap(global::collapse_map).Value(/*"lensdirt"*/ STR(160)) > 0)
			{
				tab_collapse_start(self);
				VarType texobj, tex;
				texobj = idVar(global::tl_edit, value).Value(e_value_TEXTURE_OBJ);
				tex = null_;
				VarType text;
				if (texobj != null_)
					text = idVar(texobj, display_name);
				else
					text = text_get({ /*"listnone"*/ STR(787) });
				
				if (texobj == null_)
					text = text_get({ /*"listdefault"*/ STR(812), text });
				if (texobj != null_ && idVar(texobj, type) != e_tl_type_CAMERA)
					tex = idVar(texobj, texture);
				tab_control_menu(self, { sReal(ui_large_height) });
				draw_button_menu(self, { /*"frameeditorcameralensdirttexture"*/ STR(1441), e_menu_LIST, sVar(dx), sVar(dy), sVar(dw), sReal(ui_large_height), idVar(global::tl_edit, value).Value(e_value_TEXTURE_OBJ), text, ID_action_tl_frame_texture_obj, false, tex });
				tab_next(self);
				tab_control_switch(self);
				draw_switch(self, /*"frameeditorcameralensdirtbloom"*/ STR(3108), sVar(dx), sVar(dy), idVar(global::tl_edit, value).Value(e_value_CAM_LENS_DIRT_BLOOM), ID_action_tl_frame_cam_lens_dirt_bloom);
				tab_next(self);
				tab_control_switch(self);
				draw_switch(self, /*"frameeditorcameralensdirtglow"*/ STR(3109), sVar(dx), sVar(dy), idVar(global::tl_edit, value).Value(e_value_CAM_LENS_DIRT_GLOW), ID_action_tl_frame_cam_lens_dirt_glow);
				tab_next(self);
				tab_control_meter(self);
				draw_meter(self, /*"frameeditorcameralensdirtradius"*/ STR(3110), sVar(dx), sVar(dy), sVar(dw), round(idVar(global::tl_edit, value).Value(e_value_CAM_LENS_DIRT_RADIUS) * IntType(100)), IntType(0), IntType(300), IntType(50), IntType(1), idInt(idVar(sVar(tab), camera), tbx_lens_dirt_radius), ID_action_tl_frame_cam_lens_dirt_radius);
				tab_next(self);
				tab_control_meter(self);
				draw_meter(self, /*"frameeditorcameralensdirtintensity"*/ STR(3111), sVar(dx), sVar(dy), sVar(dw), round(idVar(global::tl_edit, value).Value(e_value_CAM_LENS_DIRT_INTENSITY) * IntType(100)), IntType(0), IntType(200), IntType(80), IntType(1), idInt(idVar(sVar(tab), camera), tbx_lens_dirt_intensity), ID_action_tl_frame_cam_lens_dirt_intensity);
				tab_next(self);
				tab_control_meter(self);
				draw_meter(self, /*"frameeditorcameralensdirtpower"*/ STR(3112), sVar(dx), sVar(dy), sVar(dw), round(idVar(global::tl_edit, value).Value(e_value_CAM_LENS_DIRT_POWER) * IntType(100)), IntType(100), IntType(500), IntType(150), IntType(1), idInt(idVar(sVar(tab), camera), tbx_lens_dirt_power), ID_action_tl_frame_cam_lens_dirt_power);
				tab_next(self);
				tab_collapse_end(self);
			}
		}
		tab_control_switch(self);
		draw_button_collapse(self, /*"clrcor"*/ STR(161), DsMap(global::collapse_map).Value(/*"clrcor"*/ STR(161)), ID_action_tl_frame_cam_clrcor, idVar(global::tl_edit, value).Value(e_value_CAM_COLOR_CORRECTION), /*"frameeditorcameracolorcorrection"*/ STR(3113));
		tab_next(self);
		if (idVar(global::tl_edit, value).Value(e_value_CAM_COLOR_CORRECTION) > 0 && DsMap(global::collapse_map).Value(/*"clrcor"*/ STR(161)) > 0)
		{
			tab_collapse_start(self);
			tab_control_dragger(self);
			draw_dragger(self, /*"frameeditorcameracolorcorrectioncontrast"*/ STR(3114), sVar(dx), sVar(dy), dragger_width, round(idVar(global::tl_edit, value).Value(e_value_CAM_CONTRAST) * IntType(100)), .1, IntType(0), no_limit * IntType(100), IntType(0), IntType(1), idInt(idVar(sVar(tab), camera), tbx_contrast), ID_action_tl_frame_cam_clrcor_contrast);
			tab_next(self);
			tab_control_dragger(self);
			draw_dragger(self, /*"frameeditorcameracolorcorrectionbrightness"*/ STR(3115), sVar(dx), sVar(dy), dragger_width, round(idVar(global::tl_edit, value).Value(e_value_CAM_BRIGHTNESS) * IntType(100)), .1, -no_limit * IntType(100), no_limit * IntType(100), IntType(0), IntType(1), idInt(idVar(sVar(tab), camera), tbx_brightness), ID_action_tl_frame_cam_clrcor_brightness);
			tab_next(self);
			tab_control_dragger(self);
			draw_dragger(self, /*"frameeditorcameracolorcorrectionsaturation"*/ STR(3116), sVar(dx), sVar(dy), dragger_width, round(idVar(global::tl_edit, value).Value(e_value_CAM_SATURATION) * IntType(100)), .1, IntType(0), no_limit * IntType(100), IntType(100), IntType(1), idInt(idVar(sVar(tab), camera), tbx_saturation), ID_action_tl_frame_cam_clrcor_saturation);
			tab_next(self);
			tab_control_dragger(self);
			draw_dragger(self, /*"frameeditorcameracolorcorrectionvibrance"*/ STR(3117), sVar(dx), sVar(dy), dragger_width, round(idVar(global::tl_edit, value).Value(e_value_CAM_VIBRANCE) * IntType(100)), .1, IntType(0), no_limit * IntType(100), IntType(0), IntType(1), idInt(idVar(sVar(tab), camera), tbx_vibrance), ID_action_tl_frame_cam_clrcor_vibrance);
			tab_next(self);
			tab_control_color(self);
			draw_button_color(self, /*"frameeditorcameracolorcorrectioncolorburn"*/ STR(3118), sVar(dx), sVar(dy), (RealType)sVar(dw) / 2.0, idVar(global::tl_edit, value).Value(e_value_CAM_COLOR_BURN), c_white, false, ID_action_tl_frame_cam_clrcor_color_burn);
			tab_next(self);
			tab_collapse_end(self);
		}
		if (sReal(setting_advanced_mode) > 0)
		{
			tab_control_switch(self);
			draw_button_collapse(self, /*"grain"*/ STR(162), DsMap(global::collapse_map).Value(/*"grain"*/ STR(162)), ID_action_tl_frame_cam_grain, idVar(global::tl_edit, value).Value(e_value_CAM_GRAIN), /*"frameeditorcameragrain"*/ STR(3119));
			tab_next(self);
			if (idVar(global::tl_edit, value).Value(e_value_CAM_GRAIN) > 0 && DsMap(global::collapse_map).Value(/*"grain"*/ STR(162)) > 0)
			{
				tab_collapse_start(self);
				tab_control_meter(self);
				draw_meter(self, /*"frameeditorcameragrainstrength"*/ STR(3120), sVar(dx), sVar(dy), sVar(dw), round(idVar(global::tl_edit, value).Value(e_value_CAM_GRAIN_STRENGTH) * IntType(100)), -IntType(100), IntType(100), IntType(10), IntType(1), idInt(idVar(sVar(tab), camera), tbx_grain_strength), ID_action_tl_frame_cam_grain_strength);
				tab_next(self);
				tab_control_meter(self);
				draw_meter(self, /*"frameeditorcameragrainsaturation"*/ STR(3121), sVar(dx), sVar(dy), sVar(dw), round(idVar(global::tl_edit, value).Value(e_value_CAM_GRAIN_SATURATION) * IntType(100)), IntType(0), IntType(100), IntType(10), IntType(1), idInt(idVar(sVar(tab), camera), tbx_grain_saturation), ID_action_tl_frame_cam_grain_saturation);
				tab_next(self);
				tab_control_meter(self);
				draw_meter(self, /*"frameeditorcameragrainsize"*/ STR(3122), sVar(dx), sVar(dy), sVar(dw), idVar(global::tl_edit, value).Value(e_value_CAM_GRAIN_SIZE), IntType(1), IntType(10), IntType(1), IntType(1), idInt(idVar(sVar(tab), camera), tbx_grain_size), ID_action_tl_frame_cam_grain_size);
				tab_next(self);
				tab_collapse_end(self);
			}
		}
		tab_control_switch(self);
		draw_button_collapse(self, /*"vignette"*/ STR(163), DsMap(global::collapse_map).Value(/*"vignette"*/ STR(163)), ID_action_tl_frame_cam_vignette, idVar(global::tl_edit, value).Value(e_value_CAM_VIGNETTE), /*"frameeditorcameravignette"*/ STR(3123));
		tab_next(self);
		if (idVar(global::tl_edit, value).Value(e_value_CAM_VIGNETTE) > 0 && DsMap(global::collapse_map).Value(/*"vignette"*/ STR(163)) > 0)
		{
			tab_collapse_start(self);
			tab_control_meter(self);
			draw_meter(self, /*"frameeditorcameravignetteradius"*/ STR(3124), sVar(dx), sVar(dy), sVar(dw), round(idVar(global::tl_edit, value).Value(e_value_CAM_VIGNETTE_RADIUS) * IntType(100)), IntType(0), IntType(100), IntType(100), IntType(1), idInt(idVar(sVar(tab), camera), tbx_vignette_radius), ID_action_tl_frame_cam_vignette_radius);
			tab_next(self);
			tab_control_meter(self);
			draw_meter(self, /*"frameeditorcameravignettesoftness"*/ STR(3125), sVar(dx), sVar(dy), sVar(dw), round(idVar(global::tl_edit, value).Value(e_value_CAM_VIGNETTE_SOFTNESS) * IntType(100)), IntType(0), IntType(100), IntType(50), IntType(1), idInt(idVar(sVar(tab), camera), tbx_vignette_softness), ID_action_tl_frame_cam_vignette_softness);
			tab_next(self);
			tab_control_meter(self);
			draw_meter(self, /*"frameeditorcameravignettestrength"*/ STR(3126), sVar(dx), sVar(dy), sVar(dw), round(idVar(global::tl_edit, value).Value(e_value_CAM_VIGNETTE_STRENGTH) * IntType(100)), IntType(0), IntType(100), IntType(100), IntType(1), idInt(idVar(sVar(tab), camera), tbx_vignette_strength), ID_action_tl_frame_cam_vignette_strength);
			tab_next(self);
			tab_control_color(self);
			draw_button_color(self, /*"frameeditorcameravignettecolor"*/ STR(3127), sVar(dx), sVar(dy), sVar(dw), idVar(global::tl_edit, value).Value(e_value_CAM_VIGNETTE_COLOR), c_black, false, ID_action_tl_frame_cam_vignette_color);
			tab_next(self);
			tab_collapse_end(self);
		}
		if (sReal(setting_advanced_mode) > 0)
		{
			tab_control_switch(self);
			draw_button_collapse(self, /*"ca"*/ STR(164), DsMap(global::collapse_map).Value(/*"ca"*/ STR(164)), ID_action_tl_frame_cam_ca, idVar(global::tl_edit, value).Value(e_value_CAM_CA), /*"frameeditorcameraca"*/ STR(3128));
			tab_next(self);
			if (idVar(global::tl_edit, value).Value(e_value_CAM_CA) > 0 && DsMap(global::collapse_map).Value(/*"ca"*/ STR(164)) > 0)
			{
				tab_collapse_start(self);
				tab_control_meter(self);
				draw_meter(self, /*"frameeditorcameracabluramount"*/ STR(3129), sVar(dx), sVar(dy), sVar(dw), round(idVar(global::tl_edit, value).Value(e_value_CAM_CA_BLUR_AMOUNT) * IntType(100)), IntType(0), IntType(100), IntType(5), IntType(1), idInt(idVar(sVar(tab), camera), tbx_ca_blur_amount), ID_action_tl_frame_cam_ca_blur_amount);
				tab_next(self);
				tab_control_switch(self);
				draw_switch(self, /*"frameeditorcameracadistortchannels"*/ STR(3130), sVar(dx), sVar(dy), idVar(global::tl_edit, value).Value(e_value_CAM_CA_DISTORT_CHANNELS), ID_action_tl_frame_cam_ca_distort_channels);
				tab_next(self);
				textfield_group_add(self, { /*"frameeditorcameracaredoffset"*/ STR(3131), round(idVar(global::tl_edit, value).Value(e_value_CAM_CA_RED_OFFSET) * IntType(100)), IntType(12), ID_action_tl_frame_cam_ca_red_offset, X_, idInt(idVar(sVar(tab), camera), tbx_ca_red_offset) });
				textfield_group_add(self, { /*"frameeditorcameracagreenoffset"*/ STR(3132), round(idVar(global::tl_edit, value).Value(e_value_CAM_CA_GREEN_OFFSET) * IntType(100)), IntType(8), ID_action_tl_frame_cam_ca_green_offset, X_, idInt(idVar(sVar(tab), camera), tbx_ca_green_offset) });
				textfield_group_add(self, { /*"frameeditorcameracablueoffset"*/ STR(3133), round(idVar(global::tl_edit, value).Value(e_value_CAM_CA_BLUE_OFFSET) * IntType(100)), IntType(4), ID_action_tl_frame_cam_ca_blue_offset, X_, idInt(idVar(sVar(tab), camera), tbx_ca_blue_offset) });
				tab_control_textfield_group(self);
				draw_textfield_group(self, /*"frameeditorcameracaoffset"*/ STR(3134), sVar(dx), sVar(dy), sVar(dw), IntType(1), IntType(0), no_limit, IntType(1), true, true, IntType(3));
				tab_next(self);
				tab_collapse_end(self);
			}
		}
		if (sReal(setting_advanced_mode) > 0)
		{
			tab_control_switch(self);
			draw_button_collapse(self, /*"distort"*/ STR(165), DsMap(global::collapse_map).Value(/*"distort"*/ STR(165)), ID_action_tl_frame_cam_distort, idVar(global::tl_edit, value).Value(e_value_CAM_DISTORT), /*"frameeditorcameradistort"*/ STR(3135));
			tab_next(self);
			if (idVar(global::tl_edit, value).Value(e_value_CAM_DISTORT) > 0 && DsMap(global::collapse_map).Value(/*"distort"*/ STR(165)) > 0)
			{
				tab_collapse_start(self);
				tab_control_switch(self);
				draw_switch(self, /*"frameeditorcameradistortrepeat"*/ STR(3136), sVar(dx), sVar(dy), idVar(global::tl_edit, value).Value(e_value_CAM_DISTORT_REPEAT), ID_action_tl_frame_cam_distort_repeat);
				tab_next(self);
				tab_control_dragger(self);
				draw_dragger(self, /*"frameeditorcameradistortzoom"*/ STR(3137), sVar(dx), sVar(dy), dragger_width, idVar(global::tl_edit, value).Value(e_value_CAM_DISTORT_ZOOM_AMOUNT) * IntType(100), IntType(1), snap_min, no_limit, IntType(100), .01, idInt(idVar(sVar(tab), camera), tbx_distort_zoom_amount), ID_action_tl_frame_cam_distort_zoom_amount);
				tab_next(self);
				tab_control_dragger(self);
				draw_dragger(self, /*"frameeditorcameradistortamount"*/ STR(3138), sVar(dx), sVar(dy), dragger_width, idVar(global::tl_edit, value).Value(e_value_CAM_DISTORT_AMOUNT) * IntType(100), .1, -no_limit * IntType(100), no_limit * IntType(100), IntType(5), 0.01, idInt(idVar(sVar(tab), camera), tbx_distort_amount), ID_action_tl_frame_cam_distort_amount);
				tab_next(self);
				tab_collapse_end(self, false);
			}
		}
		sInt(context_menu_group_temp) = null_;
	}
	
	RealType tab_frame_editor_color(ScopeAny self)
	{
		if (!idArr(global::tl_edit, value_type).Value(e_value_type_MATERIAL_COLOR))
			return IntType(0);
		sInt(context_menu_group_temp) = e_context_group_COLOR;
		if (sReal(setting_advanced_mode) > 0)
		{
			tab_control_switch(self);
			draw_button_collapse(self, /*"material_color"*/ STR(167), DsMap(global::collapse_map).Value(/*"material_color"*/ STR(167)), null_, true, /*"frameeditorcolor"*/ STR(3139));
			tab_next(self);
		}
		if (DsMap(global::collapse_map).Value(/*"material_color"*/ STR(167)) > 0 || !(sReal(setting_advanced_mode) > 0))
		{
			if (sReal(setting_advanced_mode) > 0)
			{
				tab_collapse_start(self);
				tab_set_collumns(self, { true, floor((RealType)sVar(content_width) / 150.0) });
			}
			tab_control_color(self);
			draw_button_color(self, /*"frameeditorblendcolor"*/ STR(3140), sVar(dx), sVar(dy), sVar(dw), idVar(global::tl_edit, value).Value(e_value_RGB_MUL), c_white, false, ID_action_tl_frame_rgb_mul);
			tab_next(self);
			if (sReal(setting_advanced_mode) > 0)
			{
				tab_control_color(self);
				draw_button_color(self, /*"frameeditorhsvmul"*/ STR(3141), sVar(dx), sVar(dy), sVar(dw), idVar(global::tl_edit, value).Value(e_value_HSB_MUL), c_white, true, ID_action_tl_frame_hsb_mul);
				tab_next(self);
				tab_control_color(self);
				draw_button_color(self, /*"frameeditorrgbadd"*/ STR(3142), sVar(dx), sVar(dy), sVar(dw), idVar(global::tl_edit, value).Value(e_value_RGB_ADD), c_black, false, ID_action_tl_frame_rgb_add);
				tab_next(self);
				tab_control_color(self);
				draw_button_color(self, /*"frameeditorhsvadd"*/ STR(3143), sVar(dx), sVar(dy), sVar(dw), idVar(global::tl_edit, value).Value(e_value_HSB_ADD), c_black, true, ID_action_tl_frame_hsb_add);
				tab_next(self);
				tab_control_color(self);
				draw_button_color(self, /*"frameeditorrgbsub"*/ STR(3144), sVar(dx), sVar(dy), sVar(dw), idVar(global::tl_edit, value).Value(e_value_RGB_SUB), c_black, false, ID_action_tl_frame_rgb_sub);
				tab_next(self);
				tab_control_color(self);
				draw_button_color(self, /*"frameeditorhsvsub"*/ STR(3145), sVar(dx), sVar(dy), sVar(dw), idVar(global::tl_edit, value).Value(e_value_HSB_SUB), c_black, true, ID_action_tl_frame_hsb_sub);
				tab_next(self);
				BoolType glowenabled = idVar(global::tl_edit, glow) > 0 && !idArr(global::tl_edit, value_type).Value(e_value_type_CAMERA);
				if (glowenabled)
				{
					tab_control_color(self);
					draw_button_color(self, /*"frameeditorglowcolor"*/ STR(3146), sVar(dx), sVar(dy), sVar(dw), idVar(global::tl_edit, value).Value(e_value_GLOW_COLOR), c_white, false, ID_action_tl_frame_glow_color);
					tab_next(self);
				}
				tab_set_collumns(self, { false });
			}
			tab_control_color(self);
			draw_button_color(self, /*"frameeditormixcolor"*/ STR(3147), sVar(dx), sVar(dy), sVar(dw), idVar(global::tl_edit, value).Value(e_value_MIX_COLOR), c_black, false, ID_action_tl_frame_mix_color);
			tab_next(self);
			tab_control_meter(self);
			draw_meter(self, /*"frameeditormixpercent"*/ STR(3148), sVar(dx), sVar(dy), sVar(dw), floor(idVar(global::tl_edit, value).Value(e_value_MIX_PERCENT) * IntType(100)), IntType(0), IntType(100), IntType(0), IntType(1), ObjType(obj_category, idInt(sVar(tab), material))->tbx_mix_percent, ID_action_tl_frame_mix_percent);
			tab_next(self);
			if (sReal(setting_advanced_mode) > 0)
				tab_collapse_end(self);
		}
		sInt(context_menu_group_temp) = null_;
		return 0.0;
	}
	
	void tab_frame_editor_constraints(ScopeAny self)
	{
		tab_frame_editor_path(self);
		tab_frame_editor_ik(self);
		tab_frame_editor_follow_rot(self);
		tab_frame_editor_follow_pos(self);
		tab_frame_editor_follow_scale(self);
	}
	
	void tab_frame_editor_constraints_path_point(ScopeAny self)
	{
		tab_frame_editor_follow_rot(self);
		tab_frame_editor_follow_pos(self);
		tab_frame_editor_follow_scale(self);
	}
	
	void tab_frame_editor_follow_pos(ScopeAny self)
	{
		tab_control_switch(self);
		draw_button_collapse(self, /*"followpos"*/ STR(150), DsMap(global::collapse_map).Value(/*"followpos"*/ STR(150)), null_, true, /*"frameeditorfollowpos"*/ STR(3149), /*"frameeditorfollowpostip"*/ STR(3150));
		tab_next(self);
		if (DsMap(global::collapse_map).Value(/*"followpos"*/ STR(150)) > 0)
		{
			tab_collapse_start(self);
			VarType text;
			if (idVar(global::tl_edit, value).Value(e_value_POS_TARGET) != null_)
				text = idVar(idVar(global::tl_edit, value).Value(e_value_POS_TARGET), display_name);
			else
				text = text_get({ /*"listnone"*/ STR(787) });
			
			tab_control_menu(self);
			draw_button_menu(self, { /*"frameeditorfollowpostarget"*/ STR(3151), e_menu_TIMELINE, sVar(dx), sVar(dy), sVar(dw), IntType(24), idVar(global::tl_edit, value).Value(e_value_POS_TARGET), text, ID_action_tl_frame_follow_pos_target });
			sVar(dy) += IntType(32);
			draw_label(self, { text_get({ /*"frameeditorfollowposfollowaxis"*/ STR(3152) }), sVar(dx), sVar(dy) + IntType(22), fa_left, fa_middle, global::c_text_secondary, global::a_text_secondary, sInt(font_label) });
			sVar(dy) += IntType(32);
			tab_control_switch(self);
			draw_switch(self, /*"frameeditorfollowposx"*/ STR(3153), sVar(dx) + IntType(12), sVar(dy), idVar(global::tl_edit, value).Value(e_value_FLW_POS_X), ID_action_tl_frame_follow_pos_x);
			sVar(dy) += IntType(24);
			tab_control_switch(self);
			draw_switch(self, /*"frameeditorfollowposy"*/ STR(3154), sVar(dx) + IntType(12), sVar(dy), idVar(global::tl_edit, value).Value(e_value_FLW_POS_Y), ID_action_tl_frame_follow_pos_y);
			sVar(dy) += IntType(24);
			tab_control_switch(self);
			draw_switch(self, /*"frameeditorfollowposz"*/ STR(3155), sVar(dx) + IntType(12), sVar(dy), idVar(global::tl_edit, value).Value(e_value_FLW_POS_Z), ID_action_tl_frame_follow_pos_z);
			tab_next(self);
			tab_collapse_end(self);
		}
	}
	
	void tab_frame_editor_follow_rot(ScopeAny self)
	{
		tab_control_switch(self);
		draw_button_collapse(self, /*"followrot"*/ STR(149), DsMap(global::collapse_map).Value(/*"followrot"*/ STR(149)), null_, true, /*"frameeditorfollowrot"*/ STR(3156), /*"frameeditorfollowrottip"*/ STR(3157));
		tab_next(self);
		if (DsMap(global::collapse_map).Value(/*"followrot"*/ STR(149)) > 0)
		{
			tab_collapse_start(self);
			VarType text;
			if (idVar(global::tl_edit, value).Value(e_value_ROT_TARGET) != null_)
				text = idVar(idVar(global::tl_edit, value).Value(e_value_ROT_TARGET), display_name);
			else
				text = text_get({ /*"listnone"*/ STR(787) });
			
			tab_control_menu(self);
			draw_button_menu(self, { /*"frameeditorfollowrottarget"*/ STR(3158), e_menu_TIMELINE, sVar(dx), sVar(dy), sVar(dw), IntType(24), idVar(global::tl_edit, value).Value(e_value_ROT_TARGET), text, ID_action_tl_frame_follow_rot_target });
			sVar(dy) += IntType(32);
			draw_label(self, { text_get({ /*"frameeditorfollowrotfollowaxis"*/ STR(3159) }), sVar(dx), sVar(dy) + IntType(22), fa_left, fa_middle, global::c_text_secondary, global::a_text_secondary, sInt(font_label) });
			sVar(dy) += IntType(32);
			tab_control_switch(self);
			draw_switch(self, /*"frameeditorfollowrotx"*/ STR(3160), sVar(dx) + IntType(12), sVar(dy), idVar(global::tl_edit, value).Value(e_value_FLW_ROT_X), ID_action_tl_frame_follow_rot_x);
			sVar(dy) += IntType(24);
			tab_control_switch(self);
			draw_switch(self, /*"frameeditorfollowroty"*/ STR(3161), sVar(dx) + IntType(12), sVar(dy), idVar(global::tl_edit, value).Value(e_value_FLW_ROT_Y), ID_action_tl_frame_follow_rot_y);
			sVar(dy) += IntType(24);
			tab_control_switch(self);
			draw_switch(self, /*"frameeditorfollowrotz"*/ STR(3162), sVar(dx) + IntType(12), sVar(dy), idVar(global::tl_edit, value).Value(e_value_FLW_ROT_Z), ID_action_tl_frame_follow_rot_z);
			tab_next(self);
			tab_collapse_end(self);
		}
	}
	
	void tab_frame_editor_follow_scale(ScopeAny self)
	{
		tab_control_switch(self);
		draw_button_collapse(self, /*"followscale"*/ STR(151), DsMap(global::collapse_map).Value(/*"followscale"*/ STR(151)), null_, true, /*"frameeditorfollowscale"*/ STR(3163), /*"frameeditorfollowscaletip"*/ STR(3164));
		tab_next(self);
		if (DsMap(global::collapse_map).Value(/*"followscale"*/ STR(151)) > 0)
		{
			tab_collapse_start(self);
			VarType text;
			if (idVar(global::tl_edit, value).Value(e_value_SCALE_TARGET) != null_)
				text = idVar(idVar(global::tl_edit, value).Value(e_value_SCALE_TARGET), display_name);
			else
				text = text_get({ /*"listnone"*/ STR(787) });
			
			tab_control_menu(self);
			draw_button_menu(self, { /*"frameeditorfollowscaletarget"*/ STR(3165), e_menu_TIMELINE, sVar(dx), sVar(dy), sVar(dw), IntType(24), idVar(global::tl_edit, value).Value(e_value_SCALE_TARGET), text, ID_action_tl_frame_follow_scale_target });
			sVar(dy) += IntType(32);
			draw_label(self, { text_get({ /*"frameeditorfollowscalefollowaxis"*/ STR(3166) }), sVar(dx), sVar(dy) + IntType(22), fa_left, fa_middle, global::c_text_secondary, global::a_text_secondary, sInt(font_label) });
			sVar(dy) += IntType(32);
			tab_control_switch(self);
			draw_switch(self, /*"frameeditorfollowscalex"*/ STR(3167), sVar(dx) + IntType(12), sVar(dy), idVar(global::tl_edit, value).Value(e_value_FLW_SCALE_X), ID_action_tl_frame_follow_scale_x);
			sVar(dy) += IntType(24);
			tab_control_switch(self);
			draw_switch(self, /*"frameeditorfollowscaley"*/ STR(3168), sVar(dx) + IntType(12), sVar(dy), idVar(global::tl_edit, value).Value(e_value_FLW_SCALE_Y), ID_action_tl_frame_follow_scale_y);
			sVar(dy) += IntType(24);
			tab_control_switch(self);
			draw_switch(self, /*"frameeditorfollowscalez"*/ STR(3169), sVar(dx) + IntType(12), sVar(dy), idVar(global::tl_edit, value).Value(e_value_FLW_SCALE_Z), ID_action_tl_frame_follow_scale_z);
			tab_next(self);
			tab_collapse_end(self);
		}
	}
	
	RealType tab_frame_editor_ik(ScopeAny self)
	{
		if (idVar(global::tl_edit, type) != e_tl_type_BODYPART || !idArr(global::tl_edit, value_type).Value(e_value_type_TRANSFORM_BEND) || idVar(global::tl_edit, model_part) == null_ || idBool(idVar(global::tl_edit, model_part), ik_supported) == false)
			return IntType(0);
		tab_control_switch(self);
		draw_button_collapse(self, /*"ik"*/ STR(148), DsMap(global::collapse_map).Value(/*"ik"*/ STR(148)), null_, true, /*"frameeditorik"*/ STR(3170), /*"frameeditoriktip"*/ STR(3171));
		tab_next(self);
		if (DsMap(global::collapse_map).Value(/*"ik"*/ STR(148)) > 0)
		{
			tab_collapse_start(self);
			VarType text;
			if (idVar(global::tl_edit, value).Value(e_value_IK_TARGET) != null_)
				text = idVar(idVar(global::tl_edit, value).Value(e_value_IK_TARGET), display_name);
			else
				text = text_get({ /*"listnone"*/ STR(787) });
			
			tab_control_menu(self);
			draw_button_menu(self, { /*"frameeditoriktarget"*/ STR(3172), e_menu_TIMELINE, sVar(dx), sVar(dy), sVar(dw), IntType(24), idVar(global::tl_edit, value).Value(e_value_IK_TARGET), text, ID_action_tl_frame_ik_target });
			tab_next(self);
			if (idVar(global::tl_edit, value).Value(e_value_IK_TARGET_ANGLE) != null_)
				text = idVar(idVar(global::tl_edit, value).Value(e_value_IK_TARGET_ANGLE), display_name);
			else
				text = text_get({ /*"listnone"*/ STR(787) });
			
			tab_control_menu(self);
			draw_button_menu(self, { /*"frameeditorikangletarget"*/ STR(3173), e_menu_TIMELINE, sVar(dx), sVar(dy), sVar(dw), IntType(24), idVar(global::tl_edit, value).Value(e_value_IK_TARGET_ANGLE), text, ID_action_tl_frame_ik_target_angle, idVar(global::tl_edit, value).Value(e_value_IK_TARGET) == null_ });
			tab_next(self);
			tab_control_dragger(self);
			draw_dragger(self, /*"frameeditorikangleoffset"*/ STR(3174), sVar(dx), sVar(dy), dragger_width, idVar(global::tl_edit, value).Value(e_value_IK_ANGLE_OFFSET), 0.1, -no_limit, no_limit, IntType(0), snap_min, ObjType(obj_category, idInt(sVar(tab), constraints))->tbx_ik_angle_offset, ID_action_tl_frame_ik_angle_offset, null_, true, idVar(global::tl_edit, value).Value(e_value_IK_TARGET) == null_ || idVar(global::tl_edit, value).Value(e_value_IK_TARGET_ANGLE) == null_);
			tab_next(self);
			tab_control_meter(self);
			draw_meter(self, /*"frameeditorikblend"*/ STR(3175), sVar(dx), sVar(dy), sVar(dw), round(idVar(global::tl_edit, value).Value(e_value_IK_BLEND) * IntType(100)), IntType(0), IntType(100), IntType(100), IntType(1), ObjType(obj_category, idInt(sVar(tab), constraints))->tbx_ik_blend, ID_action_tl_frame_ik_blend);
			tab_next(self);
			tab_collapse_end(self);
		}
		return 0.0;
	}
	
}
